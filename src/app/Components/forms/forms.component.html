<section class="hero is-light">
  <div class="hero-body">
    <div class="container">
      <h1 class="title" *ngIf = "index >= 0; else add">
         Edit User
      </h1>
      <ng-template #add>
        <h1 class="title">
          Add User
        </h1>
      </ng-template>
      <h2 class="subtitle">
        
<div class="columns">
    <div class="column">
      <form [formGroup]="userForm">
        <input type="hidden" [value]="index">
        <div class="field">
          <label class="label">Name</label>
          <div class="control">
            <input
              class="input"
              [ngClass]="{ 'is-danger': hasError('name', 'required') }"
              type="text"
              placeholder="Text input"
              formControlName="name"
            />
          </div>
          <p class="help is-danger" *ngIf="hasError('name', 'required')">
            Name is required
          </p>
        </div>
  
        <div class="field">
          <label class="label">Username</label>
          <div class="control has-icons-left has-icons-right">
            <input
              class="input"
              [ngClass]="{ 'is-danger': hasError('username', 'required') }"
              type="text"
              placeholder="Text input"
              formControlName="username"
            />
          </div>
          <p class="help is-danger" *ngIf="hasError('username', 'required')">
            Username is required
          </p>
        </div>
  
        <div class="field">
          <label class="label">Email</label>
          <div class="control has-icons-left has-icons-right">
            <input
              class="input"
              type="email"
              placeholder="Email input"
              formControlName="email"
              
              [ngClass]="{
                'is-danger': hasError('email', ['required', 'email'])
              }"
            />
          </div>
          <p class="help is-danger" *ngIf="hasError('email', 'required')">
            Email is required
          </p>
          <p class="help is-danger" *ngIf="hasError('email', 'email')">
            Email is invalid
          </p>
        </div>

  
        <div class="field is-grouped">
          <div class="control">
            <button class="button is-success" (click)="handleSubmit()">
              Submit
            </button>
          </div>
          <div class="control">
            <button
              class="button is-link is-light"
              [disabled]="userForm.pristine"
              (click)="resetForm()"
            >
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
    <div class="column">
    </div>
  </div>
      </h2>
    </div>
  </div>
</section>